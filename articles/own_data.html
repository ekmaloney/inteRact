<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Using your own equations • inteRact</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Using your own equations">
<meta property="og:description" content="inteRact">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">inteRact</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Example_Analysis.html">Example_Analysis</a>
    </li>
    <li>
      <a href="../articles/own_data.html">Using your own equations</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/ekmaloney/inteRact/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="own_data_files/accessible-code-block-0.0.1/empty-anchor.js"></script><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Using your own equations</h1>
                        <h4 data-toc-skip class="author">Em Maloney</h4>
            
            <h4 data-toc-skip class="date">2023-02-13</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/ekmaloney/inteRact/blob/HEAD/vignettes/own_data.Rmd" class="external-link"><code>vignettes/own_data.Rmd</code></a></small>
      <div class="hidden name"><code>own_data.Rmd</code></div>

    </div>

    
    
<p>You can also use inteRact to run simulations of using equations that are not in actdata. To do so, you have to first, put your equation into the format used by inteRact, and then supply the resulting equations dataframe in the inteRact function call.</p>
<p>Your equation should be in the V10000 format typically used in the interact.jar program. An example is shown below:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#libraries needed</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://tidyverse.tidyverse.org" class="external-link">tidyverse</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## ── <span style="font-weight: bold;">Attaching packages</span> ─────────────────────────────────────── tidyverse 1.3.2 ──</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">ggplot2</span> 3.4.1     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">purrr  </span> 1.0.1</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tibble </span> 3.1.8     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">dplyr  </span> 1.1.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">tidyr  </span> 1.3.0     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">stringr</span> 1.5.0</span></span>
<span><span class="co">## <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">readr  </span> 2.1.4     <span style="color: #00BB00;">✔</span> <span style="color: #0000BB;">forcats</span> 1.0.0</span></span>
<span><span class="co">## ── <span style="font-weight: bold;">Conflicts</span> ────────────────────────────────────────── tidyverse_conflicts() ──</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">filter()</span> masks <span style="color: #0000BB;">stats</span>::filter()</span></span>
<span><span class="co">## <span style="color: #BB0000;">✖</span> <span style="color: #0000BB;">dplyr</span>::<span style="color: #00BB00;">lag()</span>    masks <span style="color: #0000BB;">stats</span>::lag()</span></span></code></pre>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/ekmaloney/inteRact" class="external-link">inteRact</a></span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Loading required package: actdata</span></span></code></pre>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ahcombs.github.io/actdata/" class="external-link">actdata</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co">#read in your data file here</span></span>
<span><span class="co">#should be in the V1000 format</span></span>
<span><span class="va">my_equation</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.table</a></span><span class="op">(</span><span class="fu">here</span><span class="fu">::</span><span class="fu"><a href="https://here.r-lib.org//reference/here.html" class="external-link">here</a></span><span class="op">(</span><span class="st">"data-raw/2010_equations.txt"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Then, you can run the <em>reshape_new_equation</em> function on your equation, to get it into the final format needed to run all inteRact functions. After reshaping the equation, you should have a dataframe with 22 columns.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#reshape equation data to be in the form interact needed</span></span>
<span><span class="va">eq_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reshape_new_equation.html">reshape_new_equation</a></span><span class="op">(</span><span class="va">my_equation</span><span class="op">)</span></span>
<span></span>
<span><span class="va">eq_df</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 15 × 22</span></span></span>
<span><span class="co">##    coef_n…¹ postAE postAP postAA postBE postBP postBA postOE postOP postOA A    </span></span>
<span><span class="co">##    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span> Z000000…  -<span style="color: #BB0000;">0.16</span>  -<span style="color: #BB0000;">0.06</span>  -<span style="color: #BB0000;">0.05</span>  -<span style="color: #BB0000;">0.26</span>   0.09   0.21  -<span style="color: #BB0000;">0.18</span>   0     -<span style="color: #BB0000;">0.14</span> 000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span> Z100000…   0.62   0      0      0.52   0      0      0      0      0    100  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span> Z010000…   0      0.57   0      0      0.53   0      0      0      0    010  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span> Z001000…   0      0      0.26   0      0      0.15   0      0      0    001  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span> Z000100…   0.46  -<span style="color: #BB0000;">0.29</span>  -<span style="color: #BB0000;">0.18</span>   0.5   -<span style="color: #BB0000;">0.21</span>  -<span style="color: #BB0000;">0.12</span>   0.26   0.51   0.33 000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span> Z000010…   0      0.62   0.12   0      0.64   0      0     -<span style="color: #BB0000;">0.57</span>  -<span style="color: #BB0000;">0.41</span> 000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span> Z000001…   0      0      0.86   0      0      0.91   0      0      0.31 000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span> Z000000…   0      0      0      0      0      0      0.91   0      0    000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span> Z000000…   0     -<span style="color: #BB0000;">0.2</span>    0      0      0      0      0      0.47   0    000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span> Z000000…   0      0      0      0      0      0.09   0      0      0.54 000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">11</span> Z100100…   0      0      0      0      0      0      0.16   0      0.54 100  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">12</span> Z000100…   0.29   0      0      0.32   0      0      0.11   0      0    000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">13</span> Z000010…  -<span style="color: #BB0000;">0.22</span>   0      0     -<span style="color: #BB0000;">0.27</span>   0      0     -<span style="color: #BB0000;">0.15</span>   0      0    000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">14</span> Z000100…  -<span style="color: #BB0000;">0.09</span>   0      0      0      0      0      0      0      0    000  </span></span>
<span><span class="co">## <span style="color: #BCBCBC;">15</span> Z001001…   0      0      0      0      0      0      0     -<span style="color: #BB0000;">0.1</span>    0    001  </span></span>
<span><span class="co">## <span style="color: #949494;"># … with 11 more variables: B &lt;chr&gt;, O &lt;chr&gt;, AE &lt;dbl&gt;, AP &lt;dbl&gt;, AA &lt;dbl&gt;,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   BE &lt;dbl&gt;, BP &lt;dbl&gt;, BA &lt;dbl&gt;, OE &lt;dbl&gt;, OP &lt;dbl&gt;, OA &lt;dbl&gt;, and abbreviated</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   variable name ¹​coef_name</span></span></span></code></pre>
<p>Next, construct your simulation events dataset.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#get US 2015 dictionary</span></span>
<span><span class="va">us_2015</span> <span class="op">&lt;-</span> <span class="fu">actdata</span><span class="fu">::</span><span class="fu"><a href="https://ahcombs.github.io/actdata/reference/epa_subset.html" class="external-link">epa_subset</a></span><span class="op">(</span>dataset <span class="op">=</span> <span class="st">"usfullsurveyor2015"</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#make a dataframe of events</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">129</span><span class="op">)</span></span>
<span><span class="va">events</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span>actor <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">us_2015</span><span class="op">$</span><span class="va">term</span><span class="op">[</span><span class="va">us_2015</span><span class="op">$</span><span class="va">component</span> <span class="op">==</span> <span class="st">"identity"</span><span class="op">]</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span>                 behavior <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">us_2015</span><span class="op">$</span><span class="va">term</span><span class="op">[</span><span class="va">us_2015</span><span class="op">$</span><span class="va">component</span> <span class="op">==</span> <span class="st">"behavior"</span><span class="op">]</span>, <span class="fl">50</span><span class="op">)</span>,</span>
<span>                 object <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sample.html" class="external-link">sample</a></span><span class="op">(</span><span class="va">us_2015</span><span class="op">$</span><span class="va">term</span><span class="op">[</span><span class="va">us_2015</span><span class="op">$</span><span class="va">component</span> <span class="op">==</span> <span class="st">"identity"</span><span class="op">]</span>, <span class="fl">50</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">events</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 50</span></span>
<span><span class="co">## Columns: 3</span></span>
<span><span class="co">## $ actor    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "grandmother", "buddy", "evangelical_christian", "hermit", "c…</span></span>
<span><span class="co">## $ behavior <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "bewilder", "experience", "torment", "pester", "overcharge", …</span></span>
<span><span class="co">## $ object   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "mourner", "disciplinarian", "street_preacher", "consultant",…</span></span></code></pre>
<p>And enrich the events data frame with the EPA information from an ACT dictionary using the reshape_events_df. This results in a dataframe with 9 rows for each event, one for each element-dimension.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#reshape with event info</span></span>
<span><span class="va">analysis_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/reshape_events_df.html">reshape_events_df</a></span><span class="op">(</span><span class="va">events</span>, df_format <span class="op">=</span> <span class="st">"wide"</span>,</span>
<span>                                 dictionary_key <span class="op">=</span> <span class="st">"usfullsurveyor2015"</span>,</span>
<span>                                 dictionary_gender <span class="op">=</span> <span class="st">"average"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Joining with `by = join_by(term, component)`</span></span></code></pre>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">analysis_df</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 450</span></span>
<span><span class="co">## Columns: 7</span></span>
<span><span class="co">## Groups: event_id [50]</span></span>
<span><span class="co">## $ event_id  <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 1, 1, 1, 1, 1, 1, 1, 1, 2, 2, 2, 2, 2, 2, 2, 2, 2, 3, 3, …</span></span>
<span><span class="co">## $ element   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "actor", "actor", "actor", "behavior", "behavior", "behavior…</span></span>
<span><span class="co">## $ term      <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "grandmother", "grandmother", "grandmother", "bewilder", "be…</span></span>
<span><span class="co">## $ component <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "identity", "identity", "identity", "behavior", "behavior", …</span></span>
<span><span class="co">## $ event     <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "grandmother bewilder mourner", "grandmother bewilder mourne…</span></span>
<span><span class="co">## $ dimension <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> "E", "P", "A", "E", "P", "A", "E", "P", "A", "E", "P", "A", …</span></span>
<span><span class="co">## $ estimate  <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, …</span></span></code></pre>
<p>To finalize the dataframe for analysis, <em>nest_by</em> the event_id. It is important to nest_by() rather than just nesting after group_by(). Here you also put your equations dataframe in a new column as such.</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#nest by event</span></span>
<span><span class="va">nested_analysis</span> <span class="op">&lt;-</span> <span class="va">analysis_df</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>                   <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/nest_by.html" class="external-link">nest_by</a></span><span class="op">(</span><span class="va">event_id</span><span class="op">)</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> </span>
<span>                   <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>eq_df <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="va">eq_df</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>Now you can run the functions on the dataframe, supplying the nested data and the equations dataframe.</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co">#get deflection</span></span>
<span><span class="va">deflection</span> <span class="op">&lt;-</span> <span class="va">nested_analysis</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>d <span class="op">=</span> <span class="fu"><a href="../reference/get_deflection.html">get_deflection</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">data</span>, </span>
<span>                             eq_df <span class="op">=</span> <span class="va">eq_df</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://pillar.r-lib.org/reference/glimpse.html" class="external-link">glimpse</a></span><span class="op">(</span><span class="va">deflection</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Rows: 50</span></span>
<span><span class="co">## Columns: 4</span></span>
<span><span class="co">## Rowwise: event_id</span></span>
<span><span class="co">## $ event_id <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18…</span></span>
<span><span class="co">## $ data     <span style="color: #949494; font-style: italic;">&lt;list&lt;tibble[,6]&gt;&gt;</span> [&lt;tbl_df[9 x 6]&gt;], [&lt;tbl_df[9 x 6]&gt;], [&lt;tbl_df[9…</span></span>
<span><span class="co">## $ eq_df    <span style="color: #949494; font-style: italic;">&lt;list&gt;</span> [&lt;tbl_df[15 x 22]&gt;], [&lt;tbl_df[15 x 22]&gt;], [&lt;tbl_df[15 x 22]&gt;…</span></span>
<span><span class="co">## $ d        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, N…</span></span></code></pre>
<p>You can also do the same with getting the entire transient impression, but you have to list() the results and then unnest() them afterwards.</p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">transimp</span> <span class="op">&lt;-</span> <span class="va">nested_analysis</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>              <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>ti <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/transient_impression.html">transient_impression</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">data</span>, </span>
<span>                             eq_df <span class="op">=</span> <span class="va">eq_df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span>
<span></span>
<span><span class="va">transimp</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span> <span class="fu"><a href="https://tidyr.tidyverse.org/reference/unnest.html" class="external-link">unnest</a></span><span class="op">(</span><span class="va">ti</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## <span style="color: #949494;"># A tibble: 450 × 9</span></span></span>
<span><span class="co">## <span style="color: #949494;"># Groups:   event_id [50]</span></span></span>
<span><span class="co">##    event_id          data eq_df    element term  compo…¹ dimen…² estim…³ trans…⁴</span></span>
<span><span class="co">##       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&lt;tibble&gt;</span> <span style="color: #949494; font-style: italic;">&lt;list&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>     <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span>   <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 1</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; actor   gran… identi… E            <span style="color: #BB0000;">NA</span>    0.9 </span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 2</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; actor   gran… identi… P            <span style="color: #BB0000;">NA</span>    0.64</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 3</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; actor   gran… identi… A            <span style="color: #BB0000;">NA</span>    1.01</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 4</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; behavi… bewi… behavi… E            <span style="color: #BB0000;">NA</span>    0.81</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 5</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; behavi… bewi… behavi… P            <span style="color: #BB0000;">NA</span>    1.05</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 6</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; behavi… bewi… behavi… A            <span style="color: #BB0000;">NA</span>    1.24</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 7</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; object  mour… identi… E            <span style="color: #BB0000;">NA</span>    1.11</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 8</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; object  mour… identi… P            <span style="color: #BB0000;">NA</span>    0.31</span></span>
<span><span class="co">## <span style="color: #BCBCBC;"> 9</span>        1       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; object  mour… identi… A            <span style="color: #BB0000;">NA</span>    1.17</span></span>
<span><span class="co">## <span style="color: #BCBCBC;">10</span>        2       <span style="color: #949494;">[9 × 6]</span> &lt;tibble&gt; actor   buddy identi… E            <span style="color: #BB0000;">NA</span>    0.9 </span></span>
<span><span class="co">## <span style="color: #949494;"># … with 440 more rows, and abbreviated variable names ¹​component, ²​dimension,</span></span></span>
<span><span class="co">## <span style="color: #949494;">#   ³​estimate, ⁴​trans_imp</span></span></span></code></pre>
<p>Finally, you can also run functions together as such:</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">multiple_functions</span> <span class="op">&lt;-</span> <span class="va">nested_analysis</span> <span class="op"><a href="../reference/pipe.html">%&gt;%</a></span></span>
<span>                      <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>d <span class="op">=</span> <span class="fu"><a href="../reference/get_deflection.html">get_deflection</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">data</span>, </span>
<span>                                        eq_df <span class="op">=</span> <span class="va">eq_df</span><span class="op">)</span>,</span>
<span>                            ti <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/transient_impression.html">transient_impression</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">data</span>, </span>
<span>                                        eq_df <span class="op">=</span> <span class="va">eq_df</span><span class="op">)</span><span class="op">)</span>,</span>
<span>                            actor_reidentified <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="fu"><a href="../reference/reidentify_actor.html">reidentify_actor</a></span><span class="op">(</span>d <span class="op">=</span> <span class="va">data</span>, </span>
<span>                                        eq_df <span class="op">=</span> <span class="va">eq_df</span><span class="op">)</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

      </div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Em Maloney.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
